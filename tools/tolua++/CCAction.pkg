#include "ccTypes.h"
#include "CCObject.h"
#include "CCZone.h"
#include "CCNode.h"

namespace   cocos2d {

	enum {
		kCCActionTagInvalid = -1,
	};

		class  CCAction : public CCObject 
		{
	
			CCAction(void);			
			char * description();
			virtual CCObject* copyWithZone(CCZone *pZone);			
			virtual bool isDone(void);
			virtual void startWithTarget(CCNode *pTarget); 
			virtual void stop(void);
			virtual void step(ccTime dt);
			virtual void update(ccTime time);
			CCNode* getTarget(void);
			void setTarget(CCNode *pTarget);
			CCNode* getOriginalTarget(void);

			void setOriginalTarget(CCNode *pOriginalTarget);
			int getTag(void);
			void setTag(int nTag);
			static CCAction* action();		 
	
		};


		class  CCFiniteTimeAction : public CCAction
		{		
			CCFiniteTimeAction();
			~CCFiniteTimeAction(){}
			//! get duration in seconds of the action
			ccTime getDuration(void);
			//! set duration in seconds of the action
			void setDuration(ccTime duration);

	
			virtual CCFiniteTimeAction* reverse(void);	 
		};


		class CCActionInterval;
		class CCRepeatForever;

		class  CCSpeed : public CCAction
		{
		public:
			CCSpeed();
			virtual ~CCSpeed(void);

			float getSpeed(void);
			/** alter the speed of the inner function in runtime */
			void setSpeed(float fSpeed);

			/** initializes the action */
			bool initWithAction(CCActionInterval *pAction, float fRate);

			CCActionInterval* reverse(void);
			
			void setInnerAction(CCActionInterval *pAction);
			CCActionInterval* getInnerAction();

			static CCSpeed* actionWithAction(CCActionInterval *pAction, float fRate);
		private:
			virtual CCObject* copyWithZone(CCZone *pZone);			
			virtual bool isDone(void);
			virtual void startWithTarget(CCNode *pTarget); 
			virtual void stop(void);
			virtual void step(ccTime dt);
			virtual void update(ccTime time);
		};


		class CCFollow : public CCAction
		{
		public:
			CCFollow();			

			bool isBoundarySet(void);			
			void setBoudarySet(bool bValue);			
			bool initWithTarget(CCNode *pFollowedNode);		
			bool initWithTarget(CCNode *pFollowedNode, CCRect rect);
			static CCFollow* actionWithTarget(CCNode *pFollowedNode);
			static CCFollow* actionWithTarget(CCNode *pFollowedNode, CCRect rect);	
		private:
			virtual CCObject* copyWithZone(CCZone *pZone);			
			virtual bool isDone(void);
			virtual void startWithTarget(CCNode *pTarget); 
			virtual void stop(void);
			virtual void step(ccTime dt);
			virtual void update(ccTime time);   


		};
}//namespace   cocos2d 
